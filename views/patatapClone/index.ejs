<!DOCTYPE html>
<html>
<head>
	<title>Circles</title>
	<link rel="stylesheet" type="text/css" href="/stylesheets/circles.css">
	<script type="text/javascript" src="/javascript/KeyData.js"></script>
	<!-- paper.js -->
	<script type="text/javascript" src="/javascript/paper-full.js"></script>

	<!-- howler.js -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.1.2/howler.js" integrity="sha256-K6gwVUMyEPd4s9vtZXdCIPySi3r1WhzqpUAw4DR0G9I=" crossorigin="anonymous"></script>

</head>
<body>
	<script type="text/paperscript" canvas="myCanvas">
		var keyData = {
			a:{
				color: "rgb(23, 58, 61)",
				sound: "bubbles.mp3",
			},

			b:{
				color: "rgb(165, 103, 222)",
				sound: "flash-2.mp3",
			},
			
			c:{
				color: "rgb(160, 62, 89)",
				sound: "piston-2.mp3",
			},
			
			d:{
				color: "rgb(60, 247, 24)",
				sound: "squiggle.mp3",
			},
			
			e:{
				color: "rgb(217, 250, 81)",
				sound: "wipe.mp3",
			},
			
			f:{
				color: "rgb(148, 31, 19)",
				sound: "clay.mp3",
			},
			
			g:{
				color: "rgb(251, 186, 55)",
				sound: "flash-3.mp3",
			},
			
			h:{
				color: "rgb(247, 122, 211)",
				sound: "piston-3.mp3",
			},
			
			i:{
				color: "rgb(151, 201, 195)",
				sound: "strike.mp3",
			},
			
			j:{
				color: "rgb(45, 172, 156)",
				sound: "zig-zag.mp3",
			},
			
			k:{
				color: "rgb(201, 62, 139)",
				sound: "confetti.mp3",
			},
			
			l:{
				color: "rgb(194, 51, 72)",
				sound: "glimmer.mp3",
			},
			
			m:{
				color: "rgb(244, 157, 238)",
				sound: "prism-1.mp3",
			},
			
			n:{
				color: "rgb(225, 232, 54)",
				sound: "suspension.mp3",
			},
			
			o:{
				color: "rgb(65, 115, 202)",
				sound: "corona.mp3",
			},
			
			p:{
				color: "rgb(111, 69, 129)",
				sound: "moon.mp3",
			},
			
			q:{
				color: "rgb(182, 6, 182)",
				sound: "prism-2.mp3",
			},
			
			r:{
				color: "rgb(146, 60, 147)",
				sound: "timer.mp3",
			},
			
			s:{
				color: "rgb(120, 205, 242)",
				sound: "dotted-spiral.mp3",
			},
			
			t:{
				color: "rgb(197, 233, 92)",
				sound: "pinwheel.mp",
			},
			
			u:{
				color: "rgb(96, 131, 178)",
				sound: "prism-3.mp3",
			},
			
			v:{
				color: "rgb(36, 136, 253)",
				sound: "ufo.mp3",
			},
			
			w:{
				color: "rgb(231, 141, 168)",
				sound: "flash-1.mp3",
			},
			
			x:{
				color: "rgb(99, 106, 23)",
				sound: "piston-1.mp3",
			},
			
			y:{
				color: "rgb(134, 195, 229)",
				sound: "splits.mp3",
			},
			
			z:{
				color: "rgb(52, 53, 162)",
				sound: "veil.mp3",
			}	
		}
		var maxPoint = new Point(view.size.width, view.size.height);
		
		var circles = [];
		function onKeyDown(event) {
			if(!keyData[event.key]) return;
			var sound = new Howl({
	      		src: ["/sounds/" + keyData[event.key].sound]
	    	});
	    	sound.play();

			var randomPoint = Point.random();
			var point = randomPoint * maxPoint;
			var newCircle = new Path.Circle(point, 500);
			newCircle.fillColor = keyData[event.key].color;
			circles.push(newCircle);
		}

		function onFrame(e){
			circles = circles.map(function(circle){
				circle.scale(.9);
				if(circle.area < 1){
					circle.remove(); //remove from canvas
	 				circle = null;
				}
				return circle;
			}).filter( function(circle){ return circle;});
		}
	</script>
	<canvas id="myCanvas" resize></canvas>
</body>
</html>